{% extends "base.html" %}
{% block content %}
<div class="section-title">
    <h2>Make-up Tutorials</h2>
    <p>Step-by-step guides for beautiful makeup looks</p>
</div>

<div class="tutorial-content">
    <div class="tutorial-sidebar">
        <h3>Categories</h3>
        <form method="GET" action="{{ url_for('tutorial') }}">
            <select name="category" onchange="this.form.submit()">
                {% for cat in categories %}
                <option value="{{ cat }}" {% if cat == selected_category %}selected{% endif %}>{{ cat }}</option>
                {% endfor %}
            </select>
        </form>
    </div>

    <div class="tutorial-main">
        {% if selected_category and selected_category != 'All' %}
        <div class="tutorial-choices">
            <h3>{{ selected_category }} Tutorials</h3>
            <p>Choose how you want to learn:</p>
            <div class="choice-buttons">
                <a href="{{ url_for('tutorial_step_category', category=selected_category) }}" class="btn btn-primary">Step-by-Step Tutorials</a>
                <a href="{{ url_for('tutorial_video_category', category=selected_category) }}" class="btn btn-secondary">Video Tutorials</a>
            </div>
        </div>
        {% else %}
        <div class="card-grid">
            {% for tutorial in tutorials %}
            <div class="card">
                <div class="card-img">{{ tutorial.title[:2] }}</div>
                <div class="card-content">
                    <h3>{{ tutorial.title }}</h3>
                    <p>{{ tutorial.description }}</p>
                    <p><strong>Category:</strong> {{ tutorial.category }}</p>
                    <a href="{{ url_for('tutorial_detail', tutorial_id=tutorial.id) }}" class="btn btn-outline">View Tutorial</a>
                </div>
            </div>
            {% endfor %}
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
